---
description: Этап 1 - Создание дизайна пользовательского интерфейса на основе концепции проекта
handoffs: 
  - label: Выбрать технологии
    agent: pldf.tech
    prompt: Выбери технологический стек на основе дизайна
scripts:
  sh:
  ps:
---

## Пользовательский ввод

```text
$ARGUMENTS
```

Ты **ОБЯЗАН** учитывать пользовательский ввод перед продолжением (если он не пустой).

## Правила диалога со студентом (обязательно)

- **Задавай вопросы строго по одному**: в каждом твоем сообщении должен быть **ровно 1 вопрос**, который требует ответа студента.
- **Не выдавай список вопросов заранее** (никаких длинных анкет/чек-листов вопросов за раз).
- Если нужен выбор, задай **один вопрос** и предложи **не больше 3–5 вариантов** (или попроси свободный ответ).
- **Дожидайся ответа** и только затем задавай следующий вопрос.
- Если ответ неполный — задай **один уточняющий вопрос**, а не несколько сразу.

## Описание

На этом этапе **PLDF (Progressive Learning Development Framework)** создается визуальный дизайн пользовательского интерфейса на основе концепции проекта. Это критически важный этап, так как дизайн определяет:
- Какие эндпоинты API действительно нужны
- Какая структура данных требуется
- Какие пользовательские потоки должны быть реализованы

## Предварительные условия

- Должен существовать `.pldf/concept.md` и `.pldf/project-context.md` с описанной концепцией проекта
- Если файлы отсутствуют, предложи сначала выполнить `/pldf.concept`

## Цель этапа

Создать визуальное представление интерфейса, которое:
- Решает проблемы, определенные в концепции
- **Охватывает ВСЕ функции всех приоритетов (P1, P2, P3)**, которые должны быть реализованы в разрабатываемой системе
- Определяет пользовательские потоки для всех функций
- Утвердить в ходе диалога со студентом финальное видение UI/UX перед следующей стадией

**КРИТИЧНО**: Дизайн должен быть разработан для ВСЕХ приоритетов функций (P1, P2, P3), а не только для P1!

## Рабочий процесс

0. **Загрузка контекста**:
   - Прочитай `.pldf/concept.md`
   - Прочитай `.pldf/project-context.md`
   - Извлеките **ВСЕ функции всех приоритетов (P1, P2, P3)**, которые должны быть в разрабатываемой системе и пользовательские сценарии
   - **ВАЖНО**: Не ограничивайся только функциями P1 - дизайн должен покрывать все приоритеты!

1. **Создание структуры дизайна**:
   - Загрузи `.pldf/templates/ui-design-template.md`. Этот файл представляет собой ШАБЛОН, содержащий токены-заполнители в квадратных скобках (например, [ВЕРСИЯ_ДИЗАЙНА] и т.д.). Твоя задача — (а) собрать/определить конкретные значения, (б) точно заполнить шаблон и (в) распространить любые изменения на зависимые артефакты.
   - Определи основные экраны/страницы на основе **ВСЕХ функций всех приоритетов (P1, P2, P3)** из концепции
   - **КРИТИЧНО**: Убедись, что для каждой функции P1, P2 и P3 определен соответствующий экран или виджет

2. **Проектирование интерфейса**:

   a. **Определение экранов**:
      - Определи необходимые экраны (или виджеты/модули) для **КАЖДОЙ функции всех приоритетов (P1, P2, P3)**, которая должна быть реализована в разрабатываемом проекте
      - **ВАЖНО**: Не пропускай функции P2 и P3 - все функции должны иметь соответствующие экраны или виджеты
      - Сгруппируй связанные функции на одном экране, где это возможно
      - Определи навигацию между экранами

   b. **Создание HTML/CSS прототипов**:
      - **Использование шаблонов**: 
        - Загрузи шаблон `.pldf/templates/html-prototype-template.html` для создания отдельных экранов
        - Загрузи шаблон `.pldf/templates/index-prototype-template.html` для создания главной страницы с навигацией
        - Замени токены-заполнители в квадратных скобках (например, [Название проекта], [Название экрана]) на конкретные значения из концепции проекта
      - Для каждого основного экрана создай HTML файл с CSS
      - **ВАЖНО**: Учитывай какие платформы должна поддерживать разрабатываемая система:
        - Если выбрана Mobile платформа → используй мобильные паттерны (bottom navigation, touch-friendly элементы, размеры для мобильных экранов)
        - Если выбрана Desktop платформа → используй десктопные паттерны (меню, клавиатурные шорткаты, большие экраны)
        - Если выбрана Web платформа → используй адаптивный дизайн (responsive design)
        - Если выбрано несколько платформ → создай адаптивные прототипы или отдельные версии
      - Используй современный, чистый дизайн
      - Создай интерактивный прототип, который можно открыть в браузере
      - Файлы сохраняй в `.pldf/ui-prototype/` с понятными именами (например, `index.html`, `dashboard.html`)
      - Используй семантический HTML и чистый CSS (без внешних зависимостей, если возможно)
      - Прототип должен быть функциональным визуально, но не требует реальной логики (можно использовать заглушки данных)

   c. **Пользовательские потоки**:
      - Опиши основные сценарии использования
      - Определи последовательность экранов для каждого сценария
      - Выяви точки взаимодействия с системой
      - Убедись, что навигация между экранами работает в прототипе

   d. **Определение данных**:
      - Какие данные отображаются на каждом экране
      - Какие данные вводятся пользователем
      - Какие данные передаются между экранами
      - Используй заглушки данных в прототипе для демонстрации
  
   e. **Создание локального сервера**
      - Проверь, какие уже установлены языки программирования (go, python) или платформы (node.js), которые можно использовать для создания локального сервера
      - Предоставь пользователю выбрать, что использовать для создания локального сервера
      - Создай проект локального сервера в `.pldf/ui-prototype/` , который будет возвращать `index.html` (например, http://localhost:8000/index.html)
      - Создай в директории `.pldf/ui-prototype/` файл `README.md` с описанием того, как запустить локальный сервер и открыть главную страницу

4. **Валидация дизайна**:
   
   **ВАЖНО**: Перед утверждением дизайна студентом выполни полную валидацию по следующему чек-листу:
   
   - [ ] **Все функции разрабатываемой системы покрыты экранами**
     - Для **КАЖДОЙ функции всех приоритетов (P1, P2, P3)** из концепции есть соответствующий экран или виджет
     - **КРИТИЧНО**: Проверь, что функции P2 и P3 также имеют экраны или виджеты, а не только P1
     - Все P1, P2 и P3 функции имеют экраны или виджеты, расположенные на экранах
     - Если не выполнено: создай недостающие экраны для всех приоритетов
   
   - [ ] **Пользовательские потоки логичны и полны**
     - Потоки описывают полные сценарии использования
     - Навигация между экранами логична
     - Нет "тупиковых" экранов без продолжения
     - Если не выполнено: пересмотри пользовательские потоки
   
   - [ ] **Дизайн соответствует выбранным платформам**
     - Используются паттерны UI для выбранных платформ
     - Учтены ограничения платформ (размеры экранов, способы взаимодействия)
     - **Если не выполнено**: адаптируй дизайн под платформы
   
   - [ ] **Прототип открывается в браузере без ошибок**
     - HTML файлы валидны (нет синтаксических ошибок)
     - CSS корректно применяется
     - Нет ошибок в консоли браузера
     - **Если не выполнено**: исправь ошибки в HTML/CSS
   
   - [ ] **Навигация между экранами работает**
     - Все ссылки между экранами работают
     - Навигация интуитивна
     - Пользователь может вернуться на предыдущий экран
     - **Если не выполнено**: исправь навигацию
   
   - [ ] **Дизайн решает проблемы из концепции**
     - Каждый экран решает часть проблемы
     - Пользователь может выполнить все необходимые действия
     - **Если не выполнено**: пересмотри соответствие дизайна концепции
   
   - [ ] **Определены данные для каждого экрана**
     - Понятно, какие данные отображаются
     - Понятно, какие данные вводятся
     - **Если не выполнено**: определи данные для каждого экрана

   **Если валидация не пройдена:**
   - Укажи конкретные пункты, которые не выполнены
   - Предложи конкретные исправления
   - **НЕ ПЕРЕХОДИ** к следующему этапу до прохождения валидации
   
   **Если валидация пройдена:**
   - Подтверди успешную валидацию
   - Переходи к записи решений в Decision Log

4.5. **Запись решений в Decision Log**:
   - Открой `.pldf/ui-design.md` (созданный на предыдущих шагах)
   - В разделе "Decision Log" → "История решений" (в конце файла `ui-design.md`) добавь записи о:
     - Выборе паттернов UI для платформ - какие паттерны использованы и почему (например, bottom navigation для Mobile, меню для Desktop)
     - Структуре навигации - как организована навигация между экранами и почему
     - Группировке функций на экранах - какие функции объединены на одном экране и почему
     - Решениях о пользовательских потоках - как пользователь перемещается между экранами
   - Для каждого решения укажи:
     - **Дата**: текущая дата в формате YYYY-MM-DD
     - **Причина**: обоснование решения с учетом выбранных платформ и пользовательских потребностей
     - **Альтернативы**: какие альтернативные подходы рассматривались (если были)
     - **Влияние на следующие этапы**: как это решение повлияет на выбор технологий и архитектуру (например, "Использование bottom navigation потребует соответствующей библиотеки навигации в выбранном фреймворке")
     - **Связанные решения**: Ссылки на решения из `concept.md`, которые повлияли на дизайн

4.6. **Обновление project-context.md**:
   - Обнови `.pldf/project-context.md`:
     - Установи текущий этап: "design"
     - Обнови статус этапа дизайна: "Завершен"
     - Добавь ссылку на Decision Log в `ui-design.md`
   - **ВАЖНО**: НЕ добавляй Decision Log напрямую в `project-context.md`, только ссылки

5. **Создание файлов дизайна**:
   - Создай директорию `.pldf/ui-prototype/` для HTML/CSS прототипов
   - Используй шаблоны `.pldf/templates/html-prototype-template.html` и `.pldf/templates/index-prototype-template.html` как основу для прототипов
   - Для каждого экрана создай отдельный HTML файл с встроенным CSS на основе `html-prototype-template.html`
   - Создай главный файл `index.html` на основе `index-prototype-template.html`, который служит точкой входа и содержит навигацию между экранами
   - Сохрани описание дизайна в `.pldf/ui-design.md` (с Decision Log в конце)
   - Обнови `.pldf/project-context.md` (только навигацию)

6. **Требование для утверждения дизайна**:
   - **КРИТИЧНО**: Попроси студента просмотреть и утвердить дизайн
   - Укажи путь к главному файлу прототипа: `.pldf/ui-prototype/index.html`
   - Инструкция: "Запусти локальный сервер (опиши, как это сделать) и открой файл `.pldf/ui-prototype/index.html` в браузере (можно использовать встроенный браузер Cursor: Ctrl+Shift+P → 'Simple Browser: Show')"
   - Спроси: "Дизайн готов. Просмотри прототип в браузере и подтверди, что он соответствует твоим ожиданиям. (да/нет/изменить)"
   - Если "изменить" или "нет", попроси указать, что нужно изменить, и обнови соответствующие HTML/CSS файлы
   - **НЕ ПЕРЕХОДИ** к следующему этапу без утверждения

8. **Отчет**:
   - Выведи путь к главному файлу прототипа: `.pldf/ui-prototype/index.html`
   - Выведи список всех созданных HTML файлов
   - Укажи инструкцию по открытию в браузере
   - Укажи, что дизайн требует утверждения студентом
   - После утверждения предложи перейти к выбору технологий

## Правила

- **ФОКУС** на функциональности, а не на визуальной красоте (на этом этапе)
- **СОЗДАВАЙ** HTML/CSS прототипы для всех экранов, покрывающих **ВСЕ функции всех приоритетов (P1, P2, P3)**
- **КРИТИЧНО**: Дизайн должен разрабатываться для всех приоритетов функций, а не останавливаться на P1
- Используй чистый HTML/CSS без внешних зависимостей (или минимальные, если необходимо)
- Прототип должен быть визуально функциональным, но не требует реальной логики (заглушки данных допустимы)
- Навигация между экранами должна работать (можно использовать простые ссылки или JavaScript для переключения)

## Выходные артефакты

**Примечание**: Для создания прототипов используй шаблоны:
- `.pldf/templates/html-prototype-template.html` - шаблон для отдельных экранов
- `.pldf/templates/index-prototype-template.html` - шаблон для главной страницы с навигацией

- `.pldf/ui-prototype/` - директория с HTML/CSS прототипами
  - `index.html` - главный файл с навигацией между экранами
  - `[screen-name].html` - HTML файлы для каждого экрана
  - `styles.css` или встроенные стили в каждом HTML файле
  - `[local_server_host]` - директория с локальным сервером или пару файлов
- `.pldf/ui-design.md` - описание дизайна интерфейса (ссылки на прототипы, описание потоков)
- `.pldf/project-context.md` - обновленный контекст проекта

## Подсказки и помощь

### Контекстные подсказки
При возникновении ошибок валидации система автоматически предложит подсказки. Например, если создан эндпоинт для элемента, которого нет в прототипе, система предложит проверить прототип еще раз.

### Подсказки по запросу
Используй команду `/hint` для получения наводящих вопросов:
- `/hint design` - подсказка для этапа дизайна
- `/hint design api` - подсказка по API контрактам в дизайне
- `/hint design navigation` - подсказка по навигации

### Типичные ошибки и решения

**Прототипы не созданы:**
- Подсказка: Создай HTML прототипы для каждого экрана. Используй шаблоны `.pldf/templates/html-prototype-template.html` и `.pldf/templates/index-prototype-template.html` как основу. Это поможет визуализировать интерфейс до реализации.
- Ресурсы: См. `.pldf/hints/resources.json` → `prototyping`, `html_basics`

**Не все функции всех приоритетов покрыты экранами:**
- Подсказка: Проверь концепцию и то, что для **КАЖДОЙ функции всех приоритетов (P1, P2, P3)** должен быть соответствующий экран (модуль/виджет) в прототипе. Не ограничивайся только функциями P1!
- Ресурсы: См. `.pldf/hints/resources.json` → `ui_design`

**Навигация между экранами не работает:**
- Подсказка: Проверь все ссылки в прототипе. Пользователь должен иметь возможность перейти между экранами и вернуться назад.
- Ресурсы: См. `.pldf/hints/resources.json` → `navigation_design`

**Создан эндпоинт для элемента, которого нет в прототипе:**
- Подсказка: Проверь прототип еще раз. API контракты должны создаваться только на основе элементов, которые есть в UI прототипе.
- Ресурсы: См. `.pldf/hints/resources.json` → `api_design`

## Следующий этап

После утверждения дизайна студентом перейди к `/pldf.tech` для выбора технологического стека.

